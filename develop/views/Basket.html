<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <link rel="stylesheet" href="css/slick.css">
    <link rel="stylesheet" href="css/slick-theme.css">

    <link rel="stylesheet" href="css/bootstrap.css" />

    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/media.css">
    <link rel="shortcut icon" href="images/webp/fav_agr.webp" type="image/x-icon">
    <!-- <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script> -->
    <link href='https://fonts.googleapis.com/css?family=Roboto:400,300,100' rel='stylesheet' type='text/css'>
</head>
<body>
    <div class="section-padding">
        <div class="top-header-wrap">
            <div>
                <div class="d-flex top-header container">
                    <div class="menu-btn"><img src="images/png/menu.png" alt=""></div>
                    <div class="top-header-title">Our main attraction is Emotion!</div>
                    <div class="mobile-title">Chicago</div>
                    <div class="d-flex top-header-r">
                        <div class="mobile-hide">Choose your city:</div>
                        <div class="custom-select">
                            <select class="mobile-hide m-select top-header-select" name="" id="">
                                <option value="St. Augistine">St. Augistine</option>
                                <option value="St. Augistine">St. Augistine2</option>
                                <option value="Chicago">Chicago</option>
                            </select>
                        </div>
                        <a  class="top-header-cart" target="_blank" asp-action="Basket" asp-route-PromoCode="@Model.PromoCode">
                            <img src="images/svg/cart.svg" alt="">
                            <div class="d-flex top-header-cart-counter">12</div>
                        </a>
                    </div>
                </div>
            </div>
            <!-- <div class="title-ribbon title-ribbon-mobile"><img src="~/images/location-white.svg" alt="">all attraction in one place! <br> <span class="mobile-hide">Come and see!</span></div>-->
        </div>
    </div>
    <div class="container">
        <div class="d-flex b-header">
            <div>* Medieval torture collection contains depictions that may not be suitable for children</div>
            <div>* For child under 3 is free!</div>
            <div>* Groups of 10 + should inquire additional discounts</div>
        </div>
        <div class="b-table">
            <div>
                <div>Your tickets</div>
                <div>Type</div>
                <div>Qty</div>
                <div>Original price</div>
                <div class="b-table-green">Discount</div>
                <div>Price</div>
            </div>

        </div>
        <div class="b-d-flex b-checks">
            <div class="audio-gide" style="display: none;">
                <div>Audio gide medieval torture museum <span>$ 1.99</span></div>
                <div class="d-flex b-checkes-flex">
                    <div><input type="radio" name="1"><span>yes</span></div>
                    <div><input type="radio" name="1"><span>no</span></div>
                </div>
            </div>
        </div>
        <div class="b-d-flex">
            <div class="b-total">
                <div>Total</div>
                <div class="d-flex b-checkes-flex">
                    <div>$<span id="basket-p-total">0</span></div>
                    <div></div>
                </div>
            </div>
            <div>
                <div>Subtotal</div>
                <div class="d-flex b-checkes-flex">
                    <div>$<span id="basket-p-subtotal">0</span></div>
                    <div></div>
                </div>
            </div>
            <div>
                <div>Sales tax</div>
                <div class="d-flex b-checkes-flex">
                    <div>$<span id="basket-p-sale">0</span></div>
                    <div></div>
                </div>
            </div>
        </div>
        <div class="d-flex b-city">
            <img src="images/svg/location-green.svg" alt="">
            <span>Your city is <b id="chosen-city">St. Augistine</b></span>
        </div>
        <div class="b-link-terms text-center"><a class="b-blue-link" href="">Please read terms and conditions of using website</a></div>
        <div class="text-center"><buton class="green-btn" id="basket-agree-btn">Agree</buton></div>
    </div>

    <div class="d-flex body-modal-wrap body-modal-wrap-unactive" id="delete-modal">
        <div class="modal-wrap">
            <div class="b-modal-header">
                <div class="text-center"><h4>Are you sure you want to remove the ticket ? </h4></div>
            </div>
            <div class="b-modal-content">
                <div class="d-flex b-info-w">
                    <div><button id="q-delete" class="btn">Confirm</button></div>
                    <div><button id="q-cancel" class="btn">Cancel</button></div>
                </div>
            </div>
        </div>
    </div>
    <div class="d-flex body-modal-wrap body-modal-wrap-unactive" id="basket-modal">
        <form asp-action="SendToPayment" class="modal-wrap">
            <input asp-for="Tikets" id="Tikets" type="hidden" />
            <input asp-for="PromoCode" type="hidden" value="@Model.PromoCode" />
            <input id="AudioGuide" asp-for="AudioGuide" type="hidden" value="false">
            <div class="d-flex b-modal-header">
                <div><span>Order information:</span>* Required fields</div>
                <div><span>Description:</span>Invoice number: 11111</div>
            </div>
            <div id="payment-modal-slider">
                <div class="payment-modal-flex">
                    <div class="b-modal-steps text-center">
                        <img src="images/webp/b-t-2.webp" alt="">
                    </div>
                    <div class="b-modal-title text-center">
                        Billing information
                    </div>
                    <div class="b-modal-content">
                        <div id="b-modal-warn">Fill in all the fields</div>
                        <div class="d-flex b-info-w">
                            <div><span class="payment-modal-span">First name:</span><input class="b-input b-input-m" type="text" asp-for="UserInfo.Name"></div>
                            <div><span class="payment-modal-span">Last name:</span><input class="b-input b-input-m" type="text" asp-for="UserInfo.Surname"></div>
                        </div>
                        <div class="d-flex b-info-w">
                            <div><span class="payment-modal-span">E-mail:</span><input type="text" class="b-input b-input-m" asp-for="UserInfo.Email"></div>
                            <div><span class="payment-modal-span">Phone:</span><input class="b-input b-input-m" type="text" asp-for="UserInfo.Phone"></div>
                        </div>
                    </div>
                    <div class="text-center b-btn"><button class="green-btn" type="button" id="basket-c-next">Next</button></div>
                </div>
                <div class="payment-modal-flex">
                    <div class="b-modal-steps text-center">
                        <img src="images/webp/b-t-1.webp" alt="">
                    </div>
                    <div class="b-modal-title text-center">
                        Payment Information
                    </div>
                    <div class="b-modal-content">
                        <div class="b-modal-sr">
                            <div class="d-flex">
                                <div>Card number:</div>
                                <div><input type="text" class="b-input" placeholder="0000111100001111" maxlength="16" asp-for="Card.CardNumber"></div>
                            </div>
                            <div class="d-flex">
                                <div>Expiration date:</div>
                                <div><input type="text" asp-for="Card.ExpiresEnd" class="b-input month-input" placeholder="mm / yy" maxlength="4"></div>
                            </div>
                            <div class="d-flex">
                                <div>CVV:</div>
                                <div><input type="text" class="b-input b-input-small" placeholder="111" asp-for="Card.CVV" maxlength="3"></div>
                            </div>
                            <div class="d-flex">
                                <div>Zip:</div>
                                <div><input type="text" class="b-input b-input-small" maxlength="5" placeholder="44778"></div>
                            </div>
                        </div>
                    </div>
                    <div class="text-center b-btn"><button class="green-btn" id="basket-c-submit">Next</button></div>
                </div>
            </div>
        </form>
    </div>

    <div class="d-flex body-modal-wrap body-modal-wrap-unactive" id="sale-modal">
        <div class="d-flex index-modal">
            <div id="close-index-modal"><img src="images/jpg/close.jpg" alt="Close modal" /></div>
            <a class="red-btn-flex" target="_blank" href="">Reserve tickets</a>
        </div>
    </div>


    <!-- <script src="~/lib/jquery/dist/jquery.js"></script>
    <script src="~/lib/bootstrap/dist/js/bootstrap.js"></script>

    <script src="~/libs/slick.min.js"></script>
    <script src="~/libs/main.js"></script>
    <script src="~/js/basket.js"></script> -->
    <script src = "js/main.js"></script>
    <!-- @if (Model.SpesialProposition != null)
    {
    <script>
        showModal("#sale-modal");
    </script>
    } -->

    <script>

        var x, i, j, selElmnt, a, b;
        /*look for any elements with the class "custom-select":*/
        x = document.getElementsByClassName("custom-select");
        for (i = 0; i < x.length; i++) {
            selElmnt = x[i].getElementsByTagName("select")[0];
            /*for each element, create a new DIV that will act as the selected item:*/
            a = document.createElement("DIV");
            a.setAttribute("class", "select-selected");
            a.innerHTML = selElmnt.options[selElmnt.selectedIndex].innerHTML;
            x[i].appendChild(a);
            /*for each element, create a new DIV that will contain the option list:*/
            b = document.createElement("DIV");
            b.setAttribute("class", "select-items select-hide");
            for (j = 1; j < selElmnt.length; j++) {
                /*for each option in the original select element,
                create a new DIV that will act as an option item:*/
                c = document.createElement("DIV");
                c.innerHTML = selElmnt.options[j].innerHTML;
                c.addEventListener("click", function (e) {
                    /*when an item is clicked, update the original select box,
                    and the selected item:*/
                    var y, i, k, s, h;
                    s = this.parentNode.parentNode.getElementsByTagName("select")[0];
                    h = this.parentNode.previousSibling;
                    for (i = 0; i < s.length; i++) {
                        if (s.options[i].innerHTML == this.innerHTML) {
                            s.selectedIndex = i;
                            h.innerHTML = this.innerHTML;
                            y = this.parentNode.getElementsByClassName("same-as-selected");
                            for (k = 0; k < y.length; k++) {
                                y[k].removeAttribute("class");
                            }
                            this.setAttribute("class", "same-as-selected");
                            break;
                        }
                    }
                    h.click();
                });
                b.appendChild(c);
            }
            x[i].appendChild(b);
            a.addEventListener("click", function (e) {
                /*when the select box is clicked, close any other select boxes,
                and open/close the current select box:*/
                e.stopPropagation();
                closeAllSelect(this);
                this.nextSibling.classList.toggle("select-hide");
                this.classList.toggle("select-arrow-active");
            });
        }
        function closeAllSelect(elmnt) {
            /*a function that will close all select boxes in the document,
            except the current select box:*/
            var x, y, i, arrNo = [];
            x = document.getElementsByClassName("select-items");
            y = document.getElementsByClassName("select-selected");
            for (i = 0; i < y.length; i++) {
                if (elmnt == y[i]) {
                    arrNo.push(i)
                } else {
                    y[i].classList.remove("select-arrow-active");
                }
            }
            for (i = 0; i < x.length; i++) {
                if (arrNo.indexOf(i)) {
                    x[i].classList.add("select-hide");
                }
            }
        }
        /*if the user clicks anywhere outside the select box,
        then close all select boxes:*/
        document.addEventListener("click", closeAllSelect);
        $(document).ready(function () {
            UploadTikets('@Model.PromoCode')
        });
        $('.month-input').change(function () {
        let text = $('.month-input').val();
        let formattedText = text.split(' ').join('');
        if (formattedText.length > 0) {
            formattedText = formattedText.match(new RegExp('.{1,2}', 'g')).join('/');
        }
        $(this).val(formattedText);
    });
    </script>
</body>
</html>

