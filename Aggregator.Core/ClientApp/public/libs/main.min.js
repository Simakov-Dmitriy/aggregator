function fillStorage() { var e = {}, t = {}; cartCounter1 = 0, cartCounter2 = 0; var i = 0, s = 0, c = 1, a = 0; if ($(".top-content-wrap").hasClass("city-1")) { for ($(".city-2").hide(), localStorage.removeItem("cartCounter1"), localStorage.removeItem("cardData1"), c = 1; c <= $(".card").length; c++)i = $($(".card")[c - 1]).attr("card-id"), s = Number($(".card-" + c + "-i-a").val()), a = Number($(".card-" + c + "-i-c").val()), isNaN(s) || isNaN(a) || (cartCounter1 += s + a, e[i] = { adult: s, child: a }); localStorage.setItem("cardData1", JSON.stringify(e)), localStorage.setItem("cartCounter1", cartCounter1), $(".top-header-cart-counter").text(cartCounter1), "0" == cartCounter1 ? $(".red-btn").attr("href", "") : $(".red-btn").attr("href", "/Home/Basket?Chicago") } else { for ($(".city-1").hide(), localStorage.removeItem("cartCounter2"), localStorage.removeItem("cardData2"), c = 1; c <= 3; c++)i = $($(".card")[c - 1]).attr("card-id"), s = Number($(".card-" + c + "-i-a").val()), a = Number($(".card-" + c + "-i-c").val()), isNaN(s) || isNaN(a) || (cartCounter2 += s + a, t[i] = { adult: s, child: a }); localStorage.setItem("cardData2", JSON.stringify(t)), localStorage.setItem("cartCounter2", cartCounter2), $(".top-header-cart-counter").text(cartCounter2), "0" == cartCounter2 ? $(".red-btn").attr("href", "") : $(".red-btn").attr("href", "/Home/Basket?St-Augustine") } } function showModal(e) { $(e).removeClass("body-modal-wrap-unactive").hide().fadeIn(), $("body").append("<div class='modal-faded'>") } function hideModal() { $("#basket-modal").addClass("body-modal-wrap-unactive").fadeOut(), $("#delete-modal").addClass("body-modal-wrap-unactive").fadeOut(), $("#sale-modal").addClass("body-modal-wrap-unactive").fadeOut(), $(".modal-faded").remove() } $(document).on("click", function (e) { e.target != $(".body-modal-wrap")[0] && e.target != $(".body-modal-wrap")[1] || hideModal() }), $("#close-index-modal").on("click", function (e) { e.preventDefault(), hideModal() }); var cityName = "Chicago", cartCounter1 = 0, cartCounter2 = 0; $(document).ready(function () { var e, t, i, s, c, a, o; for ($(window).width() < 1066 ? (n = !0, $(".section-3 img").attr("data-src", ""), $(".section-3").hasClass("city-1") ? ($(".city-1 .top-card-link").width($(".slick-active .card-img").width() + "px"), $(".top-card-link").css("left", "calc(50% - " + $(".slick-active .card-img").width() / 2 + "px)"), $(".city-1.top-card-slider").hasClass("slick-initialized") || "none" == $(".city-1").css("display") || $(".city-1.top-card-slider").slick({ initialSlide: 4, centerMode: !0, centerPadding: "2.5vw", slidesToShow: 1, slidesToScroll: 1, infinite: !0, dots: !1, lazyLoad: "ondemand", arrows: !1, adaptiveHeight: !0, responsive: [{ breakpoint: 360, settings: { centerPadding: "2.5vw" } }, { breakpoint: 425, settings: { centerPadding: "8vw" } }, { breakpoint: 725, settings: { centerPadding: "11vw" } }, { breakpoint: 1055, settings: { centerPadding: "17vw" } }] }), $(".top-card-link").width($(".card-img").width() + "px"), $(".top-card-link").css("left", "calc(50% - " + $(".card-img").width() / 2 + "px)")) : $(".section-3").hasClass("city-2") && ($(".city-2.top-card-slider").hasClass("slick-initialized") || "none" == $(".city-2").css("display") || $(".city-2.top-card-slider").slick({ initialSlide: 2, centerMode: !0, lazyLoad: "ondemand", centerPadding: "5vw", slidesToShow: 1, slidesToScroll: 1, arrows: !1, infinite: !0, dots: !1, adaptiveHeight: !0, draggable: !0, asNavFor: ".section-2-content-wrap", responsive: [{ breakpoint: 360, settings: { centerPadding: "5vw" } }, { breakpoint: 425, settings: { centerPadding: "8vw" } }, { breakpoint: 725, settings: { centerPadding: "11vw" } }, { breakpoint: 1055, settings: { centerPadding: "13vw" } }] })), $(".top").css("background", "none"), $(".section-2").css("background", "none"), $(".section-3").css("background", "none")) : ($(".top-card-link").width("99px"), setTimeout(function () { $("#overlayer1").css("display", "none") }, 300), setTimeout(function () { $("#overlayer2").css("display", "none") }, 300), setTimeout(function () { $("#overlayer3").css("display", "none") }, 300), n = !1, setTimeout(function () { $(".section-3-card").css("min-width", "initial") }, 100), $(".top-card").hover(function () { $(this).toggleClass("top-card-active") }), $(".top-card").mouseleave(function () { $(".top-card").removeClass("top-card-active") }), $(".city-1.top-card-slider").hasClass("slick-initialized") && $(".city-1.top-card-slider").slick("unslick"), $(".city-2.top-card-slider").hasClass("slick-initialized") && $(".city-2.top-card-slider").slick("unslick"), $(".section-3-slider").hasClass("slick-initialized") && $(".section-3-slider ").slick("unslick"), $(".section-2-content-wrap").hasClass("slick-initialized") && $(".section-2-content-wrap").slick("unslick"), $(".section-2-card-slider").hasClass("slick-initialized") && setTimeout(function () { $(".section-2-card-slider").slick("unslick"), $(".section-2-card-slider").slick({ arrows: !1, dots: !1, speed: 500 }), $(".section-2-card-slider[slider-def-slide=1]").slick("slickGoTo", 0), $(".section-2-card-slider[slider-def-slide=2]").slick("slickGoTo", 1), $(".section-2-card-slider[slider-def-slide=3]").slick("slickGoTo", 2), $(".section-2-card-slider[slider-def-slide=4]").slick("slickGoTo", 3) }, 500)), $(".target-link").on("click", function (e) { e.preventDefault(), $("html, body").animate({ scrollTop: 579 }, 400) }), e = document.getElementsByClassName("custom-select"), t = 0; t < e.length; t++) { for (s = e[t].getElementsByTagName("select")[0], (c = document.createElement("DIV")).setAttribute("class", "select-selected"), c.innerHTML = s.options[s.selectedIndex].innerHTML, e[t].appendChild(c), (a = document.createElement("DIV")).setAttribute("class", "select-items select-hide"), i = 1; i < s.length; i++)o = document.createElement("a"), $(".section-3").hasClass("city-2") ? o.setAttribute("href", "http://aggregatorcore-dev.us-west-2.elasticbeanstalk.com/") : $(".section-3").hasClass("city-1") ? o.setAttribute("href", "http://aggregatorcore-dev.us-west-2.elasticbeanstalk.com/Home/Augustine") : "St. Augustine FL" == $("#chosen-city").text() ? o.setAttribute("href", "http://aggregatorcore-dev.us-west-2.elasticbeanstalk.com/Home/Basket?Chicago") : o.setAttribute("href", "http://aggregatorcore-dev.us-west-2.elasticbeanstalk.com/Home/Basket?St-Augustine"), o.innerHTML = s.options[i].innerHTML, a.appendChild(o); e[t].appendChild(a), c.addEventListener("click", function (e) { e.stopPropagation(), r(this), this.nextSibling.classList.toggle("select-hide"), this.classList.toggle("select-arrow-active") }) } function r(e) { var t, i, s, c = []; for (t = document.getElementsByClassName("select-items"), i = document.getElementsByClassName("select-selected"), s = 0; s < i.length; s++)e == i[s] ? c.push(s) : i[s].classList.remove("select-arrow-active"); for (s = 0; s < t.length; s++)c.indexOf(s) && t[s].classList.add("select-hide") } document.addEventListener("click", r), $(".menu-btn").click(function () { $(".menu-wrap").removeClass("menu-unactive") }), $(".menu-back-btn").click(function () { $(".menu-wrap").addClass("menu-unactive") }), $(".js-link").on("click", function () { window.open($(this).attr("href"), "_blank") }); let d = !1; $(".s2-social-btn").on("click", function () { indexSlide = +$(this).parent().attr("slider-def-slide"); let e = $($(".section-2-card-slider[slider-def-slide=" + indexSlide + "]").get(1)); socialIndex = parseInt($(this).attr("sindex")), e.slick("slickGoTo", socialIndex), d || (d = !0, clearInterval(p), clearTimeout(k), clearTimeout(m), clearTimeout(g), clearTimeout(h)) }), $(".section-2-card-slider").on("mouseover", function () { d || (d = !0, clearInterval(p), clearTimeout(k), clearTimeout(m), clearTimeout(g), clearTimeout(h)) }), $(".input-fc-btn").click(function () { var e, t = $(this).attr("fc-btn-target"), i = $("." + t).val(); e = $(".section-3").hasClass("city-1") ? localStorage.getItem("cartCounter1") : localStorage.getItem("cartCounter2"), "1" === $(this).attr("fc-btn-func") && e >= 99 ? $(this).attr("disabled", "true") : "1" === $(this).attr("fc-btn-func") && e < 99 ? ($(this).removeAttr("disabled"), $("." + t).val(++i)) : i > 0 && $("." + t).val(--i), fillStorage() }), $(".s-input").keyup(function () { var e = $(this).val(); (e < 0 || -1 !== e.search(/[A-z]/)) && $(this).val(0), fillStorage() }), $(".select-items").on("click", function (e) { "St. Augistine" == $(".same-as-selected").text() && (cityName = "Chicago"), "Chicago" == $(".same-as-selected").text() && (cityName = "St-Augustine") }); var n = !1, l = !0; $(".top-card-slider .top-card").click(function () { u = $(".top-card-slider .slick-active").attr("data-slick-index"), $(this).parent().attr("data-slick-index") != u + 1 && ($(this).parent().attr("data-slick-index") > u ? l && ($(".top-card-wrap").removeClass("slick-selected"), $(".top-card-wrap[data-slick-index=" + ++u + "]").addClass("slick-selected"), $(".top-card-slider").slick("slickNext"), l = !1, setTimeout(function () { l = !0 }, 500)) : l && ($(".top-card-wrap").removeClass("slick-selected"), $(".top-card-wrap[data-slick-index=" + --u + "]").addClass("slick-selected"), $(".top-card-slider").slick("slickPrev"), l = !1, setTimeout(function () { l = !0 }, 500))) }), $(window).bind("scroll", function () { $(window).width() < 1055 ? ($(".section-3-slider").hasClass("slick-initialized") || $(".section-3-slider").slick({ slidesToShow: 1, dots: !1, arrows: !0, lazyLoad: "ondemand" }), $(window).unbind("scroll")) : $(window).unbind("scroll") }), $(window).bind("touchstart", function () { $(".section-3").hasClass("city-2") ? ($(".city-2.section-2-content-wrap").hasClass("slick-initialized") || $(".city-2.section-2-content-wrap").slick({ centerMode: !0, slidesToShow: 1, slidesToScroll: 1, infinite: !0, arrows: !1, dots: !1, draggable: !1 }), $(window).unbind("touchstart")) : $(window).unbind("touchstart") }); var u = 1; let p, k, m, g, h; $(".section-3").hasClass("city-2") || (u = 3), $(".top-card-wrap").on("touchmove", function (e) { let t = $(this), i = +$(this).attr("data-slick-index") + 1; setTimeout(function () { t.hasClass("slick-active") || ($(".section-3").hasClass("city-2") ? i - 1 == -2 ? ($(".city-2 .top-card-wrap").removeClass("slick-selected"), $(".city-2 .top-card-wrap[data-slick-index = 3]").addClass("slick-selected"), $(".city-2 .top-card-wrap[data-slick-index = -1]").addClass("slick-selected")) : i - 1 == 3 ? ($(".city-2 .top-card-wrap").removeClass("slick-selected"), $(".city-2 .top-card-wrap[data-slick-index = 2]").addClass("slick-selected"), $(".city-2 .top-card-wrap[data-slick-index = -2]").addClass("slick-selected")) : ($(".city-2 .top-card-wrap").removeClass("slick-selected"), $(".city-2 .top-card-wrap[data-slick-index =" + i + "]").addClass("slick-selected"), i -= 2, $(".city-2 .top-card-wrap[data-slick-index = " + i + "]").addClass("slick-selected")) : 4 !== i ? ($(".city-1 .top-card-wrap").removeClass("slick-selected"), $(".city-1 .top-card-wrap[data-slick-index = " + i + "]").addClass("slick-selected")) : ($(".city-1 .top-card-wrap").removeClass("slick-selected"), $(".city-1 .top-card-wrap[data-slick-index = 4]").addClass("slick-selected"))) }, 50) }), $(".top-card > div:nth-child(2) img,.card-active .img-first-block").hover(function () { n && $(".top-content-wrap .slick-active .top-card").addClass("card-active") }), $(".top-card ").mouseleave(function () { $(".top-content-wrap .slick-active .top-card").removeClass("card-active") }), $(".section-2-card-slider").slick({ arrows: !1, dots: !1, speed: 500 }), $(".section-2-card-slider[slider-def-slide=1]").slick("slickGoTo", 0), $(".section-2-card-slider[slider-def-slide=2]").slick("slickGoTo", 1), $(".section-2-card-slider[slider-def-slide=3]").slick("slickGoTo", 2), $(".section-2-card-slider[slider-def-slide=4]").slick("slickGoTo", 3), p = setInterval(function () { let e = "first-child"; function t(e) { switch ($(".section-2-content-wrap .section-2-card:" + e + " .facebook-icon").css("background", 'url("../images/facebook.svg") no-repeat'), $(".section-2-content-wrap .section-2-card:" + e + " .gplus-icon").css("background", 'url("../images/gplus.svg") no-repeat'), $(".section-2-content-wrap .section-2-card:" + e + " .trip-advisor-icon").css("background", 'url("../images/trip-advisor.svg") no-repeat'), $(".section-2-content-wrap .section-2-card:" + e + " .yelp-icon").css("background", 'url("../images/yekp.png") no-repeat'), $(".section-2-content-wrap .section-2-card:" + e + " .yelp-icon").css("opacity", "0.8"), $(".section-2-content-wrap .section-2-card:" + e + " .slick-current ").attr("data-slick-index")) { case "3": $(".section-2-content-wrap .section-2-card:" + e + " .facebook-icon").css("background", 'url("../images/facebook-active.svg") no-repeat'); break; case "1": $(".section-2-content-wrap .section-2-card:" + e + " .gplus-icon").css("background", 'url("../images/gplus-active.svg") no-repeat'); break; case "0": $(".section-2-content-wrap .section-2-card:" + e + " .trip-advisor-icon").css("background", 'url("../images/trip-advisor-active.svg") no-repeat'); break; case "2": $(".section-2-content-wrap .section-2-card:" + e + " .yelp-icon").css("opacity", "1") } } k = setTimeout(function () { t(e = "first-child"), $(".section-2-card-slider[slider-def-slide=1]").first().slick("slickNext") }, 500), m = setTimeout(function () { t(e = "nth-child(2)"), $(".section-2-card-slider[slider-def-slide=2]").first().slick("slickNext"), console.log($(".section-2-card-slider[slider-def-slide=2]")) }, 1e3), g = setTimeout(function () { $(".section-3").hasClass("city-1") && (t(e = "nth-child(3)"), $(".section-2-card-slider[slider-def-slide=3]").first().slick("slickNext")) }, 1500), h = setTimeout(function () { $(".section-3").hasClass("city-1") && (t(e = "last-child"), $(".section-2-card-slider[slider-def-slide=4]").first().slick("slickNext")) }, 2e3) }, 4e3) });